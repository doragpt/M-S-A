(venv) root@vm-b3dba883-74:~/M-S-A# pip install psutil pytz
Requirement already satisfied: psutil in ./venv/lib/python3.12/site-packages (5.9.5)
Requirement already satisfied: pytz in ./venv/lib/python3.12/site-packages (2022.1)
(venv) root@vm-b3dba883-74:~/M-S-A# git fetch origin main
.pyremote: Enumerating objects: 10, done.
remote: Counting objects: 100% (10/10), done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 7 (delta 4), reused 7 (delta 4), pack-reused 0 (from 0)
Unpacking objects: 100% (7/7), 19.41 KiB | 1.02 MiB/s, done.
From https://github.com/doragpt/M-S-A
 * branch            main       -> FETCH_HEAD
   ca8408d..d2e894e  main       -> origin/main
Auto packing the repository in background for optimum performance.
See "git help gc" for manual housekeeping.
(venv) root@vm-b3dba883-74:~/M-S-A# git checkout origin/main -- api_endpoints.py
(venv) root@vm-b3dba883-74:~/M-S-A# python main.py
テンプレートディレクトリ: /root/M-S-A/templates
静的ファイルディレクトリ: /root/M-S-A/static
2025-03-17 01:48:40,471 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-03-17 01:48:40,474 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-03-17 01:48:40,474 - apscheduler.scheduler - INFO - Added job "scheduled_scrape" to job store "default"
2025-03-17 01:48:40,476 - apscheduler.scheduler - INFO - Added job "<lambda>" to job store "default"
2025-03-17 01:48:40,476 - apscheduler.scheduler - INFO - Scheduler started
2025-03-17 01:48:40,477 - apscheduler.scheduler - DEBUG - Looking for jobs to run
サーバー起動時刻（JST）: 2025-03-17 01:48:40 JST+0900
アプリケーションを起動しています: http://0.0.0.0:5000
2025-03-17 01:48:40,482 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-03-17 02:48:40.471497+09:00 (in 3599.989176 seconds)
既存データ: 2942件
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Serving Flask app 'main'
 * Debug mode: on
Address already in use
Port 5000 is in use by another program. Either identify and stop that program, or start the server with a different port.
(venv) root@vm-b3dba883-74:~/M-S-A# kill -9 $(lsof -t -i:5000)
(venv) root@vm-b3dba883-74:~/M-S-A# python main.py
テンプレートディレクトリ: /root/M-S-A/templates
静的ファイルディレクトリ: /root/M-S-A/static
2025-03-17 01:48:49,786 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-03-17 01:48:49,789 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-03-17 01:48:49,789 - apscheduler.scheduler - INFO - Added job "scheduled_scrape" to job store "default"
2025-03-17 01:48:49,791 - apscheduler.scheduler - INFO - Added job "<lambda>" to job store "default"
2025-03-17 01:48:49,791 - apscheduler.scheduler - INFO - Scheduler started
2025-03-17 01:48:49,792 - apscheduler.scheduler - DEBUG - Looking for jobs to run
サーバー起動時刻（JST）: 2025-03-17 01:48:49 JST+0900
2025-03-17 01:48:49,796 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-03-17 02:48:49.786220+09:00 (in 3599.989428 seconds)
アプリケーションを起動しています: http://0.0.0.0:5000
既存データ: 2942件
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Serving Flask app 'main'
 * Debug mode: on
2025-03-17 01:48:49,813 - werkzeug - INFO -  * Running on all addresses (0.0.0.0)
   WARNING: This is a development server. Do not use it in a production deployment.
 * Running on http://127.0.0.1:5000
 * Running on http://160.251.196.100:5000 (Press CTRL+C to quit)
2025-03-17 01:48:49,813 - werkzeug - INFO -  * Restarting with stat
テンプレートディレクトリ: /root/M-S-A/templates
静的ファイルディレクトリ: /root/M-S-A/static
2025-03-17 01:48:50,601 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-03-17 01:48:50,604 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-03-17 01:48:50,605 - apscheduler.scheduler - INFO - Added job "scheduled_scrape" to job store "default"
2025-03-17 01:48:50,606 - apscheduler.scheduler - INFO - Added job "<lambda>" to job store "default"
2025-03-17 01:48:50,606 - apscheduler.scheduler - INFO - Scheduler started
2025-03-17 01:48:50,607 - apscheduler.scheduler - DEBUG - Looking for jobs to run
サーバー起動時刻（JST）: 2025-03-17 01:48:50 JST+0900
2025-03-17 01:48:50,612 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-03-17 02:48:50.601721+09:00 (in 3599.989703 seconds)
アプリケーションを起動しています: http://0.0.0.0:5000
既存データ: 2942件
2025-03-17 01:48:50,627 - werkzeug - WARNING -  * Debugger is active!
2025-03-17 01:48:50,631 - werkzeug - INFO -  * Debugger PIN: 452-729-233
2025-03-17 01:48:55,098 - werkzeug - INFO - 182.171.40.172 - - [17/Mar/2025 01:48:55] "GET / HTTP/1.1" 200 -
2025-03-17 01:48:55,370 - app - INFO - データベース接続成功: store_statusテーブルのレコード数 = 13982
2025-03-17 01:48:55,377 - api - ERROR - APIエラー: 'sqlite3.Row' object has no attribute 'get'
2025-03-17 01:48:55,378 - werkzeug - INFO - 182.171.40.172 - - [17/Mar/2025 01:48:55] "GET /api/data HTTP/1.1" 500 -
2025-03-17 01:49:01,399 - app - INFO - データベース接続成功: store_statusテーブルのレコード数 = 13982
2025-03-17 01:49:01,405 - api - ERROR - APIエラー: 'sqlite3.Row' object has no attribute 'get'
2025-03-17 01:49:01,405 - werkzeug - INFO - 182.171.40.172 - - [17/Mar/2025 01:49:01] "GET /api/data HTTP/1.1" 500 -
