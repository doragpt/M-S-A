[2]+  Stopped                 python app.py
(venv) root@vm-b3dba883-74:~/M-S-A# git fetch origin main
remote: Enumerating objects: 15, done.
remote: Counting objects: 100% (15/15), done.
remote: Compressing objects: 100% (10/10), done.
remote: Total 11 (delta 6), reused 3 (delta 1), pack-reused 0 (from 0)
Unpacking objects: 100% (11/11), 6.99 KiB | 198.00 KiB/s, done.
From https://github.com/doragpt/M-S-A
 * branch            main       -> FETCH_HEAD
   a38f3af..9ba2cd0  main       -> origin/main
(venv) root@vm-b3dba883-74:~/M-S-A# git checkout origin/main -- templates/integrated_dashboard.html
(venv) root@vm-b3dba883-74:~/M-S-A# git checkout origin/main -- app.py
(venv) root@vm-b3dba883-74:~/M-S-A# python -c "from app import db; from datetime import datetime, timedelta; from sqlalchemy import text; print('データベースにインデックスを追加中...'); db.session.execute(text('CREATE INDEX IF NOT EXISTS idx_store_status_timestamp ON store_status (timestamp);')); db.session.execute(text('CREATE INDEX IF NOT EXISTS idx_store_status_store_name ON store_status (store_name);')); db.session.execute(text('CREATE INDEX IF NOT EXISTS idx_store_status_biz_type ON store_status (biz_type);')); db.session.commit(); print('インデックス追加完了')"
/etc/timezone is deprecated on Debian, and no longer reliable. Ignoring.
データベースにインデックスを追加中...
Traceback (most recent call last):
  File "<string>", line 1, in <module>
  File "/root/M-S-A/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 779, in execute
    return self._proxied.execute(
           ^^^^^^^^^^^^^
  File "/root/M-S-A/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 197, in _proxied
    return self.registry()
           ^^^^^^^^^^^^^^^
  File "/root/M-S-A/venv/lib/python3.12/site-packages/sqlalchemy/util/_collections.py", line 632, in __call__
    key = self.scopefunc()
          ^^^^^^^^^^^^^^^^
  File "/root/M-S-A/venv/lib/python3.12/site-packages/flask_sqlalchemy/session.py", line 102, in _app_ctx_id
    return id(app_ctx._get_current_object())  # type: ignore[attr-defined]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/M-S-A/venv/lib/python3.12/site-packages/werkzeug/local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
(venv) root@vm-b3dba883-74:~/M-S-A#